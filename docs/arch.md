```txt

╭─────────────╮                                               ╭──────────────────╮
│             │                                               │      COS         │
│  摄像头     │                                               │  对象存储服务器  │
│             │                                     ╭────────>│                  │
╰──────┬──────╯                                     │         │                  │
       │                                            │         ╰──────────────────╯
       │                 ╭───────────────╮ put      │                         │
       ╰───────────────> │  SRS/RTMP     │──────────╯                         │
                         │  流媒体服务   │  {"video": xxx.mp4"}               │
 推流时应该已确定视      ╰───────────────╯                                    │
 内容（工序，工单等）         │                                               │
 它们共同决定参数ID           │                                               │
                              │ redis                                         │
                              │                                               │
                              │                                               │
                              │                                               │
                              v {"video": url"}                               │
                      ╭────────────────╮                                      │
                      │      SQL       │<──────╮                              │
            ╭────────>│  业务服务器    │       │ 更新MES数据                  │
            │         │                ├───╮   │                              │
            │         ╰───────┬────────╯   │   │                              │
            │            |    │ 定时任务   │   │                              │
            │            |    ╰────────────╯   │    结果                      │
            │            |          线 │ 配    │   ╭──────────────────────╮   │
            │        获取|          上 │ 置    │   │                      │   │
            │        历史|             │       │   v                      │   │
            │        数据|      参数ID │   ╭───┴───────╮                  │   │
            │            |             ╰──>│   Kafka   │──────────────╮   │   │
            │            |       ╭────────>│ 消息队列  │              │   │   │
            │            |       │         ╰───────────╯              │   │   │
            │            v       │ 调试参数                           v   │   v
            │       ╭────────────────╮                          ╭──────────────────╮
            │       │     Admin      │                          │    算法服务器    │
            │       │  开发调试平台  │                          │     frepai       │
            │       │                │                          │                  │
            │       ╰──────┬──────┬──╯                          ╰──────────────────╯
            │              │ 部署 │
            │              ╰──────╯
            │ 更新线上配置     │
            ╰──────────────────╯

```
